[gd_scene load_steps=16 format=3 uid="uid://d0mgbjylkqrfm"]

[ext_resource type="Terrain3DMaterial" uid="uid://cbf5087uqjivh" path="res://terrain-data/material.tres" id="1_8jtcr"]
[ext_resource type="Terrain3DAssets" uid="uid://br4kd5uvr4ajw" path="res://terrain-data/assets.tres" id="2_8h8r5"]
[ext_resource type="PackedScene" uid="uid://c1t4wwt4vmksg" path="res://scenes/player.tscn" id="3_331dj"]
[ext_resource type="Shader" path="res://shaders/ground-snow.gdshader" id="4_edcym"]
[ext_resource type="Texture2D" uid="uid://y8g7yq5i48el" path="res://assets/textures/Snow002_4K-PNG/Snow002_4K-PNG_Color.png" id="4_oo3jd"]
[ext_resource type="Texture2D" uid="uid://ddmke4aj32tv1" path="res://assets/textures/Snow002_4K-PNG/Snow002_4K-PNG_Displacement.png" id="5_1w0m2"]
[ext_resource type="Texture2D" uid="uid://b842q2lxnjq4e" path="res://height-map.exr" id="5_bwmfe"]
[ext_resource type="Texture2D" uid="uid://bu4617t3j651j" path="res://assets/textures/Snow002_4K-PNG/Snow002_4K-PNG_NormalGL.png" id="6_enxrf"]
[ext_resource type="Script" path="res://scenes/snow.gd" id="6_spgy7"]
[ext_resource type="Texture2D" uid="uid://dfa0ywssa7ugo" path="res://assets/textures/Snow002_4K-PNG/Snow002_4K-PNG_Roughness.png" id="7_eenat"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_mqc2w"]

[sub_resource type="Sky" id="Sky_xtgw6"]
sky_material = SubResource("ProceduralSkyMaterial_mqc2w")

[sub_resource type="Environment" id="Environment_ci7fr"]
background_mode = 2
background_energy_multiplier = 1.2
sky = SubResource("Sky_xtgw6")
ambient_light_source = 3
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.0
tonemap_mode = 2
volumetric_fog_density = 0.03
volumetric_fog_emission = Color(0.255659, 0.255659, 0.255659, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6kx0s"]
render_priority = 0
shader = ExtResource("4_edcym")
shader_parameter/height_scale = 1.0
shader_parameter/offset_x = -2559.5
shader_parameter/offset_z = -2559.5
shader_parameter/offset_y = 0.5
shader_parameter/albedo = Color(0.933333, 1, 1, 1)
shader_parameter/point_size = 1.0
shader_parameter/roughness = 0.736
shader_parameter/metallic_texture_channel = null
shader_parameter/specular = 1.0
shader_parameter/metallic = 0.0
shader_parameter/normal_scale = 1.0
shader_parameter/ao_texture_channel = null
shader_parameter/ao_light_affect = null
shader_parameter/subsurface_scattering_strength = 0.2
shader_parameter/heightmap_scale = 5.0
shader_parameter/heightmap_min_layers = 8
shader_parameter/heightmap_max_layers = 32
shader_parameter/heightmap_flip = Vector2(1, 1)
shader_parameter/uv1_scale = Vector3(1, 1, 1)
shader_parameter/uv1_offset = null
shader_parameter/uv2_scale = Vector3(1, 1, 1)
shader_parameter/uv2_offset = null
shader_parameter/height_map = ExtResource("5_bwmfe")
shader_parameter/texture_albedo = ExtResource("4_oo3jd")
shader_parameter/texture_roughness = ExtResource("7_eenat")
shader_parameter/texture_normal = ExtResource("6_enxrf")
shader_parameter/texture_heightmap = ExtResource("5_1w0m2")

[sub_resource type="PlaneMesh" id="PlaneMesh_um6ce"]
material = SubResource("ShaderMaterial_6kx0s")
custom_aabb = AABB(0, 0, 0, 1000, 1000, 1000)
size = Vector2(250, 250)
subdivide_width = 500
subdivide_depth = 500

[node name="Game" type="Node3D"]

[node name="Terrain3D" type="Terrain3D" parent="."]
data_directory = "res://terrain-data"
material = ExtResource("1_8jtcr")
assets = ExtResource("2_8h8r5")
top_level = true
metadata/_edit_lock_ = true

[node name="Player" parent="." instance=ExtResource("3_331dj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.906169, 259.583, 6.8733)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.943801, 0.330514, 0, -0.330514, 0.943801, 0, 0, 0)
shadow_enabled = true
shadow_blur = 3.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ci7fr")

[node name="Snow" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.906169, 80.837, 6.8733)
extra_cull_margin = 2482.42
mesh = SubResource("PlaneMesh_um6ce")
script = ExtResource("6_spgy7")
